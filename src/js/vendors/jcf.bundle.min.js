!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(r){"use strict";var i=[],a={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,t=/Windows Phone/.test(navigator.userAgent);a.isMobileDevice=!(!e&&!t);function n(){function e(e,t,n){n=n||0,s.insertRule?s.insertRule(e+"{"+t+"}",n):s.addRule(e,t,n)}var t=r("<style>").appendTo("head"),s=t.prop("sheet")||t.prop("styleSheet");e("."+a.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),e("."+a.rtlClass+" ."+a.hiddenClass,"right:-9999px !important; left: auto !important"),e("."+a.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),e("."+a.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var n=r("html"),i=r("body");"rtl"!==n.css("direction")&&"rtl"!==i.css("direction")||n.addClass(a.rtlClass),n.on("reset",function(){setTimeout(function(){l.refreshAll()},0)}),a.styleSheetCreated=!0}!function(){var e,t=navigator.pointerEnabled||navigator.msPointerEnabled,n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,i={},o="jcf-";e=t?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(n?" touchstart":""),pointermove:"mousemove"+(n?" touchmove":""),pointerup:"mouseup"+(n?" touchend":"")},r.each(e,function(n,e){r.each(e.split(" "),function(e,t){i[t]=n})}),r.each(e,function(e,t){t=t.split(" "),r.event.special[o+e]={setup:function(){var n=this;r.each(t,function(e,t){n.addEventListener?n.addEventListener(t,s,!1):n["on"+t]=s})},teardown:function(){var n=this;r.each(t,function(e,t){n.addEventListener?n.removeEventListener(t,s,!1):n["on"+t]=null})}}});var a=null,s=function(e){var t=e||window.event,n=null,s=i[t.type];if((e=r.event.fix(t)).type=o+s,t.pointerType)switch(t.pointerType){case 2:e.pointerType="touch";break;case 3:e.pointerType="pen";break;case 4:e.pointerType="mouse";break;default:e.pointerType=t.pointerType}else e.pointerType=t.type.substr(0,5);return e.pageX||e.pageY||(n=t.changedTouches?t.changedTouches[0]:t,e.pageX=n.pageX,e.pageY=n.pageY),"touchend"===t.type&&(a={x:e.pageX,y:e.pageY}),"mouse"===e.pointerType&&a&&function(e){var t=Math.abs(e.pageX-a.x),n=Math.abs(e.pageY-a.y);return t<=25&&n<=25||void 0}(e)?void 0:(r.event.dispatch||r.event.handle).call(this,e)}}(),function(){var e=("onwheel"in document||9<=document.documentMode?"wheel":"mousewheel DOMMouseScroll").split(" "),n="jcf-mousewheel";r.event.special[n]={setup:function(){var n=this;r.each(e,function(e,t){n.addEventListener?n.addEventListener(t,s,!1):n["on"+t]=s})},teardown:function(){var n=this;r.each(e,function(e,t){n.addEventListener?n.removeEventListener(t,s,!1):n["on"+t]=null})}};var s=function(e){var t=e||window.event;if((e=r.event.fix(t)).type=n,"detail"in t&&(e.deltaY=-t.detail),"wheelDelta"in t&&(e.deltaY=-t.wheelDelta),"wheelDeltaY"in t&&(e.deltaY=-t.wheelDeltaY),"wheelDeltaX"in t&&(e.deltaX=-t.wheelDeltaX),"deltaY"in t&&(e.deltaY=t.deltaY),"deltaX"in t&&(e.deltaX=t.deltaX),e.delta=e.deltaY||e.deltaX,1===t.deltaMode){e.delta*=16,e.deltaY*=16,e.deltaX*=16}return(r.event.dispatch||r.event.handle).call(this,e)}}();var o={fireNativeEvent:function(e,t){r(e).each(function(){var e;this.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),this.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=this).fireEvent("on"+t,e)})},bindHandlers:function(){var n=this;r.each(n,function(e,t){0===e.indexOf("on")&&r.isFunction(t)&&(n[e]=function(){return t.apply(n,arguments)})})}},l={version:"1.2.3",modules:{},getOptions:function(){return r.extend({},a)},setOptions:function(e,t){1<arguments.length?this.modules[e]&&r.extend(this.modules[e].prototype.options,t):r.extend(a,e)},addModule:function(e){r.isFunction(e)&&(e=e(r,window));function t(e){e.element.data(a.dataKey)||e.element.data(a.dataKey,this),i.push(this),this.options=r.extend({},a,this.options,n(e.element),e),this.bindHandlers(),this.init.apply(this,arguments)}var n=function(e){var t=e.data(a.optionsKey),n=e.attr(a.optionsKey);if(t)return t;if(n)try{return r.parseJSON(n)}catch(e){}};t.prototype=e,r.extend(e,o),e.plugins&&r.each(e.plugins,function(e,t){r.extend(t.prototype,o)});var s=t.prototype.destroy;t.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=i.length-1;0<=e;e--)if(i[e]===this){i.splice(e,1);break}s&&s.apply(this,arguments)},this.modules[e.name]=t},getInstance:function(e){return r(e).data(a.dataKey)},replace:function(e,s,t){var i,o=this;return a.styleSheetCreated||n(),r(e).each(function(){var e,n=r(this);(i=n.data(a.dataKey))?i.refresh():(s||r.each(o.modules,function(e,t){return t.prototype.matchElement.call(t.prototype,n)?(s=e,!1):void 0}),s&&(e=r.extend({element:n},t),i=new o.modules[s](e)))}),i},refresh:function(e){r(e).each(function(){var e=r(this).data(a.dataKey);e&&e.refresh()})},destroy:function(e){r(e).each(function(){var e=r(this).data(a.dataKey);e&&e.destroy()})},replaceAll:function(n){var s=this;r.each(this.modules,function(e,t){r(t.prototype.selector,n).each(function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,e)})})},refreshAll:function(n){if(n)r.each(this.modules,function(e,t){r(t.prototype.selector,n).each(function(){var e=r(this).data(a.dataKey);e&&e.refresh()})});else for(var e=i.length-1;0<=e;e--)i[e].refresh()},destroyAll:function(n){if(n)r.each(this.modules,function(e,t){r(t.prototype.selector,n).each(function(e,t){var n=r(t).data(a.dataKey);n&&n.destroy()})});else for(;i.length;)i[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=l),l}),jcf.addModule(function(n){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=n(document),this.realElement=n(this.options.element),this.fakeElement=n(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refresh()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var e=this.realElement.closest("label"),t=this.realElement.prop("id");return!e.length&&t&&(e=n('label[for="'+t+'"]')),e.length?e:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}});